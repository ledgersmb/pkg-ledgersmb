//>>built
define("lsmb/MainContentPane",["dijit/layout/ContentPane","dojo/_base/declare","dojo/_base/event","dijit/registry","dojo/dom-style","dojo/_base/lang","dojo/promise/Promise","dojo/on","dojo/hash","dojo/promise/all","dojo/request/xhr","dojo/query","dojo/request/iframe","dojo/dom-class"],function(e,t,r,a,i,d,l,o,n,s,f,m,u,h){return t("lsmb/MainContentPane",[e],{last_page:null,interceptClick:null,report_request_error:function(e){var t=a.byId("errorDialog");0===e.response.status?t.set("content","Could not connect to server"):t.set("content",e.response.data),t.show()},report_error:function(e){var t=a.byId("errorDialog");t.set("content",e),t.show()},set_main_div:function(e){var t=this,r=e.match(/<body[^>]*>([\s\S]*)(<\/body>)?/i);if(!r)return void this.report_error("Invalid server response: document lacks BODY tag");var a=r?r[1]:"";return this.set("content",a).then(function(){t.show_main_div()},function(){t.report_error("Server return value invalid")})},load_form:function(e,t){var r=this;return r.fade_main_div(),f(e,t).then(function(e){r.hide_main_div(),r.set_main_div(e)},function(e){r.show_main_div(),r.report_request_error(e)})},download_link:function(e){},load_link:function(e){if(this.last_page!=e)return this.last_page=e,this.load_form(e,{handlesAs:"text"})},fade_main_div:function(){h.replace(this.domNode,"parsing","done-parsing"),i.set(this.domNode,"opacity","0.3")},hide_main_div:function(){i.set(this.domNode,"visibility","hidden")},show_main_div:function(){i.set(this.domNode,"visibility","visible"),i.set(this.domNode,"opacity","1"),h.replace(this.domNode,"done-parsing","parsing")},set:function(){var e=null,t=0,r=null,a=this;if(1===arguments.length&&d.isObject(arguments[0])&&null!==arguments[0].content?(e=arguments[0].content,delete arguments[0].content):1===arguments.length&&d.isString(arguments[0])?(e=arguments[0],t=!0):2===arguments.length&&"content"==arguments[0]&&(e=arguments[1],t=!0),null!==e&&(r=this.inherited("set",arguments,["content",e]).then(function(){m("a",a.domNode).forEach(a.interceptClick),a.show_main_div()})),t)return r;var i=this.inherited(arguments);return null!==r&&r instanceof l&&null!==i&&i instanceof l?s([r,i]):null!==r&&r instanceof l?r:i}})});//# sourceMappingURL=MainContentPane.js.map