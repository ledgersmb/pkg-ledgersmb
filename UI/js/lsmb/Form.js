//>>built
define("lsmb/Form",["dijit/form/Form","dojo/_base/declare","dojo/_base/event","dojo/on","dojo/hash","dojo/dom-attr","dojo/dom-form","dojo/query","dijit/registry"],function(e,t,r,a,i,d,l,o,n){var s=0;return t("lsmb/Form",[e],{clickedAction:null,startup:function(){var e=this;this.inherited(arguments),o('input[type="submit"]',this.domNode).forEach(function(t){a(t,"click",function(){e.clickedAction=d.get(t,"value")})})},onSubmit:function(e){r.stop(e),this.submit()},submit:function(){if(this.validate()){var e=void 0===this.method?"GET":this.method,t=this.action,r={handleAs:"text"};if("get"===e.toLowerCase()){if(!t)return alert("Form contains no action. Please file a bug"),!1;s++;var a=l.toQuery(this.domNode);a="action="+this.clickedAction+"&"+a,t=t+"?"+a+"#"+s.toString(16),i(t)}else r.method=e,"multipart/form-data"==this.domNode.enctype?(r.data=new FormData(this.domNode),r.data.append("action",this.clickedAction)):r.data="action="+this.clickedAction+"&"+l.toQuery(this.domNode),n.byId("maindiv").load_form(t,r)}}})});//# sourceMappingURL=Form.js.map