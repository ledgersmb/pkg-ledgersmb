//>>built
define("dojo/dnd/autoscroll",["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(e,r,a,t,i,d){var l={};e.setObject("dojo.dnd.autoscroll",l),l.getViewport=d.getBox,l.V_TRIGGER_AUTOSCROLL=32,l.H_TRIGGER_AUTOSCROLL=32,l.V_AUTOSCROLL_VALUE=16,l.H_AUTOSCROLL_VALUE=16;var o,n=a.doc,s=1/0,f=1/0;return l.autoScrollStart=function(e){n=e,o=d.getBox(n);var r=a.body(n).parentNode;s=Math.max(r.scrollHeight-o.h,0),f=Math.max(r.scrollWidth-o.w,0)},l.autoScroll=function(e){var r=o||d.getBox(n),t=a.body(n).parentNode,i=0,m=0;e.clientX<l.H_TRIGGER_AUTOSCROLL?i=-l.H_AUTOSCROLL_VALUE:e.clientX>r.w-l.H_TRIGGER_AUTOSCROLL&&(i=Math.min(l.H_AUTOSCROLL_VALUE,f-t.scrollLeft)),e.clientY<l.V_TRIGGER_AUTOSCROLL?m=-l.V_AUTOSCROLL_VALUE:e.clientY>r.h-l.V_TRIGGER_AUTOSCROLL&&(m=Math.min(l.V_AUTOSCROLL_VALUE,s-t.scrollTop)),window.scrollBy(i,m)},l._validNodes={div:1,p:1,td:1},l._validOverflow={auto:1,scroll:1},l.autoScrollNodes=function(e){for(var d,o,n,s,f,m,v=0,u=0,h=e.target;h;){if(1==h.nodeType&&h.tagName.toLowerCase()in l._validNodes){var y=i.getComputedStyle(h),w=y.overflowX.toLowerCase()in l._validOverflow,M=y.overflowY.toLowerCase()in l._validOverflow;if((w||M)&&(d=t.getContentBox(h,y),o=t.position(h,!0)),w&&(n=Math.min(l.H_TRIGGER_AUTOSCROLL,d.w/2),f=e.pageX-o.x,(r("webkit")||r("opera"))&&(f+=a.body().scrollLeft),v=0,f>0&&f<d.w&&(f<n?v=-n:f>d.w-n&&(v=n),h.scrollLeft,h.scrollLeft=h.scrollLeft+v)),M&&(s=Math.min(l.V_TRIGGER_AUTOSCROLL,d.h/2),m=e.pageY-o.y,(r("webkit")||r("opera"))&&(m+=a.body().scrollTop),u=0,m>0&&m<d.h&&(m<s?u=-s:m>d.h-s&&(u=s),h.scrollTop,h.scrollTop=h.scrollTop+u)),v||u)return}try{h=h.parentNode}catch(e){h=null}}l.autoScroll(e)},l});//# sourceMappingURL=autoscroll.js.map