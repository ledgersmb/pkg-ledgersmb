//>>built
define("dojo/rpc/RpcService",["../_base/array","../_base/declare","../_base/Deferred","../_base/kernel","../_base/lang","../_base/url","../_base/xhr"],function(e,r,a,t,i,d,l){return r("dojo.rpc.RpcService",null,{constructor:function(e){if(e)if(i.isString(e)||e instanceof d){if(e instanceof d)var r=e+"";else r=e;var a=l.get({url:r,handleAs:"json-comment-optional",sync:!0});a.addCallback(this,"processSmd"),a.addErrback(function(){throw new Error("Unable to load SMD from "+e)})}else e.smdStr?this.processSmd(t.eval("("+e.smdStr+")")):(e.serviceUrl&&(this.serviceUrl=e.serviceUrl),this.timeout=e.timeout||0,"strictArgChecks"in e&&(this.strictArgChecks=e.strictArgChecks),this.processSmd(e))},strictArgChecks:!0,serviceUrl:"",parseResults:function(e){return e},errorCallback:function(e){return function(r){e.errback(r)}},resultCallback:function(e){return i.hitch(this,function(r){if(null!=r.error){var a;"object"==typeof r.error?(a=new Error(r.error.message),a.code=r.error.code,a.error=r.error.error):a=new Error(r.error),a.id=r.id,a.errorObject=r,e.errback(a)}else e.callback(this.parseResults(r))})},generateMethod:function(e,r,t){return i.hitch(this,function(){var d=new a;if(this.strictArgChecks&&null!=r&&arguments.length!=r.length)throw new Error("Invalid number of parameters for remote method.");return this.bind(e,i._toArray(arguments),d,t),d})},processSmd:function(r){r.methods&&e.forEach(r.methods,function(e){if(e&&e.name&&(this[e.name]=this.generateMethod(e.name,e.parameters,e.url||e.serviceUrl||e.serviceURL),!i.isFunction(this[e.name])))throw new Error("RpcService: Failed to create"+e.name+"()")},this),this.serviceUrl=r.serviceUrl||r.serviceURL,this.required=r.required,this.smd=r}})});//# sourceMappingURL=RpcService.js.map