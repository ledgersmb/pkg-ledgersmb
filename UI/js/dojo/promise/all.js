//>>built
define("dojo/promise/all",["../_base/array","../_base/lang","../Deferred","../when"],function(e,r,a,t){"use strict";var i=e.some;return function(e){var d,l;r.isArray(e)?l=e:e&&"object"==typeof e&&(d=e);var o,n=[];if(d){l=[];for(var s in d)Object.hasOwnProperty.call(d,s)&&(n.push(s),l.push(d[s]));o={}}else l&&(o=[]);if(!l||!l.length)return(new a).resolve(o);var f=new a;f.promise.always(function(){o=n=null});var m=l.length;return i(l,function(e,r){return d||n.push(r),t(e,function(e){f.isFulfilled()||(o[n[r]]=e,0==--m&&f.resolve(o))},f.reject),f.isFulfilled()}),f.promise}});//# sourceMappingURL=all.js.map