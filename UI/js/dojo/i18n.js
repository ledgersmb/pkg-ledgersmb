//>>built
define("dojo/i18n",["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(e,t,n,r,o,i,a,s,c){n.add("dojo-preload-i18n-Api",1);var u=e.i18n={},d=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,l=function(e,t,n,r){for(var o=[n+r],i=t.split("-"),a="",s=0;s<i.length;s++)a+=(a?"-":"")+i[s],e&&!e[a]||(o.push(n+a+"/"+r),o.specificity=a);return o},f={},h=function(t,n,r){return r=r?r.toLowerCase():e.locale,t=t.replace(/\./g,"/"),n=n.replace(/\./g,"/"),/root/i.test(r)?t+"/nls/"+n:t+"/nls/"+r+"/"+n},p=e.getL10nName=function(e,t,n){return e=c.id+"!"+h(e,t,n)},m=function(e,t,n,r,o,a){e([t],function(s){var c=i.clone(s.root||s.ROOT),u=l(!s._v1x&&s,o,n,r);e(u,function(){for(var e=1;e<u.length;e++)c=i.mixin(i.clone(c),arguments[e]);f[t+"/"+o]=c,c.$locale=u.specificity,a()})})},g=function(e,t){return/^\./.test(e)?t(e):e},v=function(e){var t=o.extraLocale||[];return t=i.isArray(t)?t:[t],t.push(e),t},y=function(t,o,a){var c=d.exec(t),u=c[1]+"/",l=c[5]||c[4],h=u+l,p=c[5]&&c[4],g=p||e.locale||"",y=h+"/"+g,b=p?[g]:v(g),_=b.length,w=function(){--_||a(i.delegate(f[y]))},x=t.split("*"),T="preload"==x[1];if(n("dojo-preload-i18n-Api")){if(T&&(f[t]||(f[t]=1,j(x[2],s.parse(x[3]),1,o)),a(1)),T||C(t,o,a)&&!f[y])return}else if(T)return void a(1);r.forEach(b,function(e){var t=h+"/"+e;n("dojo-preload-i18n-Api")&&N(t),f[t]?w():m(o,h,u,l,e,w)})};if(n("dojo-preload-i18n-Api"),!0)var b=u.normalizeLocale=function(t){var n=t?t.toLowerCase():e.locale;return"root"==n?"ROOT":n},_=function(e,t){return!0},w=0,x=[],j=u._preloadLocalizations=function(n,o,a,s){function c(e,t){_(e,s)||a?s([e],t):E([e],t,s)}function u(e,t){for(var n=e.split("-");n.length;){if(t(n.join("-")))return;n.pop()}t("ROOT")}function d(){w++}function l(){for(--w;!w&&x.length;)y.apply(null,x.shift())}function h(e,t,n,r){return r.toAbsMid(e+t+"/"+n)}function p(e){e=b(e),u(e,function(a){if(r.indexOf(o,a)>=0){var p=n.replace(/\./g,"/")+"_"+a;return d(),c(p,function(n){function r(n,r,o,a){var c=[],p=[];u(e,function(e){a[e]&&(c.push(t.toAbsMid(n+e+"/"+r)),p.push(h(n,r,e,t)))}),c.length?(d(),s(c,function(){for(var a=c.length-1;a>=0;a--)o=i.mixin(i.clone(o),arguments[a]),f[p[a]]=o;f[h(n,r,e,t)]=i.clone(o),l()})):f[h(n,r,e,t)]=o}for(var o in n){var c,p,m=n[o],g=o.match(/(.+)\/([^\/]+)$/);if(g&&(c=g[2],p=g[1]+"/",m._localized)){var v;if("ROOT"===a){var y=v=m._localized;delete m._localized,y.root=m,f[t.toAbsMid(o)]=y}else v=m._localized,f[h(p,c,a,t)]=m;a!==e&&r(p,c,m,v)}}l()}),!0}return!1})}s=s||t,p(),r.forEach(e.config.extraLocale,p)},C=function(e,t,n){return w&&x.push([e,t,n]),w},N=function(){};var T,k={},E=function(e,t,n){var o=[];r.forEach(e,function(e){function t(t){T||(T=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"));var n=T(t,N,e,k);n===k?o.push(f[r]=k.result):(n instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+r,n),n={}),o.push(f[r]=/nls\/[^\/]+\/[^\/]+$/.test(r)?n:{root:n,_v1x:1}))}var r=n.toUrl(e+".js");if(f[r])o.push(f[r]);else{var i=n.syncLoadNls(e);if(i||(i=N(e.replace(/nls\/([^\/]*)\/([^\/]*)$/,"nls/$2/$1"))),i)o.push(i);else if(a)a.get({url:r,sync:!0,load:t,error:function(){o.push(f[r]={})}});else try{n.getText(r,!0,t)}catch(e){o.push(f[r]={})}}}),t&&t.apply(null,o)};return N=function(t){for(var n,r=t.split("/"),o=e.global[r[0]],i=1;o&&i<r.length-1;o=o[r[i++]]);return o&&(n=o[r[i]],n||(n=o[r[i].replace(/-/g,"_")]),n&&(f[t]=n)),n},u.getLocalization=function(e,n,r){var o,i=h(e,n,r);return y(i,_(i,t)?t:function(e,n){E(e,n,t)},function(e){o=e}),o},i.mixin(u,{dynamic:!0,normalize:g,load:y,cache:f,getL10nName:p})});//# sourceMappingURL=i18n.js.map