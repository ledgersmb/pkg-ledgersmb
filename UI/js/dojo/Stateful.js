//>>built
define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array","./when"],function(t,e,n,r){return t("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(t){var e=this._attrPairNames;return e[t]?e[t]:e[t]={s:"_"+t+"Setter",g:"_"+t+"Getter"}},postscript:function(t){t&&this.set(t)},_get:function(t,e){return"function"==typeof this[e.g]?this[e.g]():this[t]},get:function(t){return this._get(t,this._getAttrNames(t))},set:function(t,e){if("object"==typeof t){for(var n in t)t.hasOwnProperty(n)&&"_watchCallbacks"!=n&&this.set(n,t[n]);return this}var i,o=this._getAttrNames(t),s=this._get(t,o),a=this[o.s];if("function"==typeof a?i=a.apply(this,Array.prototype.slice.call(arguments,1)):this[t]=e,this._watchCallbacks){var u=this;r(i,function(){u._watchCallbacks(t,s,e)})}return this},_changeAttrValue:function(t,e){var n=this.get(t);return this[t]=e,this._watchCallbacks&&this._watchCallbacks(t,n,e),this},watch:function(t,e){var r=this._watchCallbacks;if(!r){var i=this;r=this._watchCallbacks=function(t,e,n,o){var s=function(r){if(r){r=r.slice();for(var o=0,s=r.length;o<s;o++)r[o].call(i,t,e,n)}};s(r["_"+t]),o||s(r["*"])}}e||"function"!=typeof t?t="_"+t:(e=t,t="*");var o=r[t];"object"!=typeof o&&(o=r[t]=[]),o.push(e);var s={};return s.unwatch=s.remove=function(){var t=n.indexOf(o,e);t>-1&&o.splice(t,1)},s}})});//# sourceMappingURL=Stateful.js.map