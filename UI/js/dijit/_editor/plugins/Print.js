//>>built
define("dijit/_editor/plugins/Print",["dojo/_base/declare","dojo/i18n","dojo/_base/lang","dojo/sniff","../../focus","../_Plugin","../../form/Button","dojo/i18n!../nls/commands"],function(e,t,r,a,i,d,l){var o=e("dijit._editor.plugins.Print",d,{_initButton:function(){var e=t.getLocalization("dijit._editor","commands"),a=this.editor;this.button=new l({label:e.print,ownerDocument:a.ownerDocument,dir:a.dir,lang:a.lang,showLabel:!1,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"Print",tabIndex:"-1",onClick:r.hitch(this,"_print")})},setEditor:function(e){this.editor=e,this._initButton(),this.editor.onLoadDeferred.then(r.hitch(this,function(){this.editor.iframe.contentWindow.print||this.button.set("disabled",!0)}))},updateState:function(){var e=this.get("disabled");this.editor.iframe.contentWindow.print||(e=!0),this.button.set("disabled",e)},_print:function(){var e=this.editor.iframe;if(e.contentWindow.print)if(a("opera")||a("chrome")){var t=this.editor.document,r=this.editor.get("value");r="<html><head><meta http-equiv='Content-Type' content='text/html; charset='UTF-8'></head><body>"+r+"</body></html>";var d=window.open("javascript: ''","","status=0,menubar=0,location=0,toolbar=0,width=1,height=1,resizable=0,scrollbars=0");d.document.open(),d.document.write(r),d.document.close();var l=t.getElementsByTagName("style");if(l){var o;for(o=0;o<l.length;o++){var n=l[o].innerHTML,s=d.document.createElement("style");s.appendChild(d.document.createTextNode(n)),d.document.getElementsByTagName("head")[0].appendChild(s)}}d.print(),d.close()}else i.focus(e),e.contentWindow.print()}});return d.registry.print=function(){return new o({command:"print"})},o});//# sourceMappingURL=Print.js.map