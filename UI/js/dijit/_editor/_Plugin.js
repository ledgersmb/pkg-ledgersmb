//>>built
define("dijit/_editor/_Plugin",["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../Destroyable","../form/Button"],function(e,r,t,a,i){var d=r("dijit._editor._Plugin",a,{constructor:function(e){this.params=e||{},t.mixin(this,this.params),this._attrPairNames={}},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:!0,buttonClass:i,disabled:!1,getLabel:function(e){return this.editor.commands[e]},_initButton:function(){if(this.command.length){var e=this.getLabel(this.command),r=this.editor,a=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var i=t.mixin({label:e,ownerDocument:r.ownerDocument,dir:r.dir,lang:r.lang,showLabel:!1,iconClass:a,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});delete i.name,this.button=new this.buttonClass(i)}}this.get("disabled")&&this.button&&this.button.set("disabled",this.get("disabled"))},destroy:function(){this.dropDown&&this.dropDown.destroyRecursive(),this.inherited(arguments)},connect:function(r,t,a){this.own(e.connect(r,t,this,a))},updateState:function(){var e,r,t=this.editor,a=this.command;if(t&&t.isLoaded&&a.length){var i=this.get("disabled");if(this.button)try{var d=t._implCommand(a);r=!i&&(this[d]?this[d](a):t.queryCommandEnabled(a)),this.enabled!==r&&(this.enabled=r,this.button.set("disabled",!r)),r&&"boolean"==typeof this.button.checked&&(e=t.queryCommandState(a),this.checked!==e&&(this.checked=e,this.button.set("checked",t.queryCommandState(a))))}catch(t){}}},setEditor:function(e){this.editor=e,this._initButton(),this.button&&this.useDefaultCommand&&(this.editor.queryCommandAvailable(this.command)?this.own(this.button.on("click",t.hitch(this.editor,"execCommand",this.command,this.commandArg))):this.button.domNode.style.display="none"),this.own(this.editor.on("NormalizedDisplayChanged",t.hitch(this,"updateState")))},setToolbar:function(e){this.button&&e.addChild(this.button)},set:function(e,r){if("object"==typeof e){for(var t in e)this.set(t,e[t]);return this}var a=this._getAttrNames(e);if(this[a.s])var i=this[a.s].apply(this,Array.prototype.slice.call(arguments,1));else this._set(e,r);return i||this},get:function(e){var r=this._getAttrNames(e);return this[r.g]?this[r.g]():this[e]},_setDisabledAttr:function(e){this._set("disabled",e),this.updateState()},_getAttrNames:function(e){var r=this._attrPairNames;if(r[e])return r[e];var t=e.charAt(0).toUpperCase()+e.substr(1);return r[e]={s:"_set"+t+"Attr",g:"_get"+t+"Attr"}},_set:function(e,r){this[e]=r}});return d.registry={},d});//# sourceMappingURL=_Plugin.js.map