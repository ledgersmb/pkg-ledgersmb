//>>built
define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(e,r,t,a,i,d,l){function o(a,l,o,n){var s=d.getEffectiveBox(a.ownerDocument);a.parentNode&&"body"==String(a.parentNode.tagName).toLowerCase()||i.body(a.ownerDocument).appendChild(a);var f=null;e.some(l,function(e){var t=e.corner,i=e.pos,d=0,l={w:{L:s.l+s.w-i.x,R:i.x-s.l,M:s.w}[t.charAt(1)],h:{T:s.t+s.h-i.y,B:i.y-s.t,M:s.h}[t.charAt(0)]},m=a.style;if(m.left=m.right="auto",o){var v=o(a,e.aroundCorner,t,l,n);d=void 0===v?0:v}var u=a.style,h=u.display,y=u.visibility;"none"==u.display&&(u.visibility="hidden",u.display="");var w=r.position(a);u.display=h,u.visibility=y;var M={L:i.x,R:i.x-w.w,M:Math.max(s.l,Math.min(s.l+s.w,i.x+(w.w>>1))-w.w)}[t.charAt(1)],c={T:i.y,B:i.y-w.h,M:Math.max(s.t,Math.min(s.t+s.h,i.y+(w.h>>1))-w.h)}[t.charAt(0)],p=Math.max(s.l,M),g=Math.max(s.t,c),k=Math.min(s.l+s.w,M+w.w),b=Math.min(s.t+s.h,c+w.h),F=k-p,I=b-g;return d+=w.w-F+(w.h-I),(null==f||d<f.overflow)&&(f={corner:t,aroundCorner:e.aroundCorner,x:p,y:g,w:F,h:I,overflow:d,spaceAvailable:l}),!d}),f.overflow&&o&&o(a,f.aroundCorner,f.corner,f.spaceAvailable,n);var m=f.y,v=f.x,u=i.body(a.ownerDocument);/relative|absolute/.test(t.get(u,"position"))&&(m-=t.get(u,"marginTop"),v-=t.get(u,"marginLeft"));var h=a.style;return h.top=m+"px",h.left=v+"px",h.right="auto",f}var n={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},s={at:function(r,t,a,i,d){return o(r,e.map(a,function(e){var r={corner:e,aroundCorner:n[e],pos:{x:t.x,y:t.y}};return i&&(r.pos.x+="L"==e.charAt(1)?i.x:-i.x,r.pos.y+="T"==e.charAt(0)?i.y:-i.y),r}),d)},around:function(i,d,l,n,s){function f(e,r){z.push({aroundCorner:e,corner:r,pos:{x:{L:b,R:b+I,M:b+(I>>1)}[e.charAt(1)],y:{T:F,B:F+j,M:F+(j>>1)}[e.charAt(0)]}})}var m;if("string"==typeof d||"offsetWidth"in d||"ownerSVGElement"in d){if(m=r.position(d,!0),/^(above|below)/.test(l[0])){var v=r.getBorderExtents(d),u=d.firstChild?r.getBorderExtents(d.firstChild):{t:0,l:0,b:0,r:0},h=r.getBorderExtents(i),y=i.firstChild?r.getBorderExtents(i.firstChild):{t:0,l:0,b:0,r:0};m.y+=Math.min(v.t+u.t,h.t+y.t),m.h-=Math.min(v.t+u.t,h.t+y.t)+Math.min(v.b+u.b,h.b+y.b)}}else m=d;if(d.parentNode)for(var w="absolute"==t.getComputedStyle(d).position,M=d.parentNode;M&&1==M.nodeType&&"BODY"!=M.nodeName;){var c=r.position(M,!0),p=t.getComputedStyle(M);if(/relative|absolute/.test(p.position)&&(w=!1),!w&&/hidden|auto|scroll/.test(p.overflow)){var g=Math.min(m.y+m.h,c.y+c.h),k=Math.min(m.x+m.w,c.x+c.w);m.x=Math.max(m.x,c.x),m.y=Math.max(m.y,c.y),m.h=g-m.y,m.w=k-m.x}"absolute"==p.position&&(w=!0),M=M.parentNode}var b=m.x,F=m.y,I="w"in m?m.w:m.w=m.width,j="h"in m?m.h:(a.deprecated("place.around: dijit/place.__Rectangle: { x:"+b+", y:"+F+", height:"+m.height+", width:"+I+" } has been deprecated.  Please use { x:"+b+", y:"+F+", h:"+m.height+", w:"+I+" }","","2.0"),m.h=m.height),z=[];e.forEach(l,function(e){var r=n;switch(e){case"above-centered":f("TM","BM");break;case"below-centered":f("BM","TM");break;case"after-centered":r=!r;case"before-centered":f(r?"ML":"MR",r?"MR":"ML");break;case"after":r=!r;case"before":f(r?"TL":"TR",r?"TR":"TL"),f(r?"BL":"BR",r?"BR":"BL");break;case"below-alt":r=!r;case"below":f(r?"BL":"BR",r?"TL":"TR"),f(r?"BR":"BL",r?"TR":"TL");break;case"above-alt":r=!r;case"above":f(r?"TL":"TR",r?"BL":"BR"),f(r?"TR":"TL",r?"BR":"BL");break;default:f(e.aroundCorner,e.corner)}});var A=o(i,z,s,{w:I,h:j});return A.aroundNodePos=m,A}};return l.place=s});//# sourceMappingURL=place.js.map