//>>built
define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(e,r,a,t,i,d,l,o,n,s,f,m,v,u,h,y,w){var M=t("dijit.Calendar",[v,u,h],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(e){o.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0"),this.set("value",e)},_createMonthWidget:function(){return new M._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:s.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments),this.own(f(this.domNode,"keydown",s.hitch(this,"_onKeyDown")),f(this.dateRowsNode,"mouseover",s.hitch(this,"_onDayMouseOver")),f(this.dateRowsNode,"mouseout",s.hitch(this,"_onDayMouseOut")),f(this.dateRowsNode,"mousedown",s.hitch(this,"_onDayMouseDown")),f(this.dateRowsNode,"mouseup",s.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(e){var r=new this.dateClassObj(this.currentFocus);r.setDate(1),r.setMonth(e);var a=this.dateModule.getDaysInMonth(r),t=this.currentFocus.getDate();r.setDate(Math.min(t,a)),this._setCurrentFocusAttr(r)},_onDayMouseOver:function(e){var r=d.contains(e.target,"dijitCalendarDateLabel")?e.target.parentNode:e.target;r&&(r.dijitDateValue&&!d.contains(r,"dijitCalendarDisabledDate")||r==this.previousYearLabelNode||r==this.nextYearLabelNode)&&(d.add(r,"dijitCalendarHoveredDate"),this._currentNode=r)},_onDayMouseOut:function(e){if(this._currentNode&&(!e.relatedTarget||e.relatedTarget.parentNode!=this._currentNode)){var r="dijitCalendarHoveredDate";d.contains(this._currentNode,"dijitCalendarActiveDate")&&(r+=" dijitCalendarActiveDate"),d.remove(this._currentNode,r),this._currentNode=null}},_onDayMouseDown:function(e){var r=e.target.parentNode;r&&r.dijitDateValue&&!d.contains(r,"dijitCalendarDisabledDate")&&(d.add(r,"dijitCalendarActiveDate"),this._currentNode=r)},_onDayMouseUp:function(e){var r=e.target.parentNode;r&&r.dijitDateValue&&d.remove(r,"dijitCalendarActiveDate")},handleKey:function(e){var r,a=-1,t=this.currentFocus;switch(e.keyCode){case n.RIGHT_ARROW:a=1;case n.LEFT_ARROW:r="day",this.isLeftToRight()||(a*=-1);break;case n.DOWN_ARROW:a=1;case n.UP_ARROW:r="week";break;case n.PAGE_DOWN:a=1;case n.PAGE_UP:r=e.ctrlKey||e.altKey?"year":"month";break;case n.END:t=this.dateModule.add(t,"month",1),r="day";case n.HOME:t=new this.dateClassObj(t),t.setDate(1);break;default:return!0}return r&&(t=this.dateModule.add(t,r,a)),this._setCurrentFocusAttr(t),!1},_onKeyDown:function(e){this.handleKey(e)||(e.stopPropagation(),e.preventDefault())},onValueSelected:function(){},onChange:function(e){this.onValueSelected(e)},getClassForDate:function(){}});return M._MonthDropDownButton=t("dijit.Calendar._MonthDropDownButton",w,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments),this.dropDown=new M._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(e){var r=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,e);this.dropDown.set("months",r),this.containerNode.innerHTML=(6==m("ie")?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+r[e.getMonth()]+"</div>"}}),M._MonthDropDown=t("dijit.Calendar._MonthDropDown",[u,y,h],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"<div data-dojo-attach-event='ondijitclick:_onClick'></div>",_setMonthsAttr:function(r){this.domNode.innerHTML="",e.forEach(r,function(e,r){l.create("div",{className:"dijitCalendarMonthLabel",month:r,innerHTML:e},this.domNode)._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(e){this.onChange(i.get(e.target,"month"))},onChange:function(){}}),M});//# sourceMappingURL=Calendar.js.map