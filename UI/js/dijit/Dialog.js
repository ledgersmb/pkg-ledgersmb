//>>built
require({cache:{"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="heading" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabindex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n\t${!actionBarTemplate}\n</div>\n\n'}}),define("dijit/Dialog",["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/touch","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","./layout/utils","dojo/text!./templates/Dialog.html","./a11yclick","dojo/i18n!./nls/common"],function(e,r,a,t,i,d,l,o,n,s,f,m,v,u,h,y,w,M,c,g,p,k,b,F,I,z,A,j,q,E,G){function P(){}var S=new i;S.resolve(!0);var T=t("dijit._DialogBase"+(y("dojo-bidi")?"_NoBidi":""),[F,z,A,I],{templateString:G,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:k.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(e){this._set("draggable",e)},maxRatio:.9,closable:!0,_setClosableAttr:function(e){this.closeButtonNode.style.display=e?"":"none",this._set("closable",e)},postMixInProperties:function(){var e=f.getLocalization("dijit","common");v.mixin(this,e),this.inherited(arguments)},postCreate:function(){n.set(this.domNode,{display:"none",position:"absolute"}),this.ownerDocumentBody.appendChild(this.domNode),this.inherited(arguments),a.after(this,"onExecute",v.hitch(this,"hide"),!0),a.after(this,"onCancel",v.hitch(this,"hide"),!0),u(this.closeButtonNode,w.press,function(e){e.stopPropagation()}),this._modalconnects=[]},onLoad:function(){this.resize(),this._position(),this.autofocus&&_.isTop(this)&&(this._getFocusItems(),p.focus(this._firstFocusItem)),this.inherited(arguments)},focus:function(){this._getFocusItems(),p.focus(this._firstFocusItem)},_endDrag:function(){var e=o.position(this.domNode),r=M.getBox(this.ownerDocument);e.y=Math.min(Math.max(e.y,0),r.h-e.h),e.x=Math.min(Math.max(e.x,0),r.w-e.w),this._relativePosition=e,this._position()},_setup:function(){var e=this.domNode;this.titleBar&&this.draggable?(this._moveable=new(6==y("ie")?g:c)(e,{handle:this.titleBar}),a.after(this._moveable,"onMoveStop",v.hitch(this,"_endDrag"),!0)):l.add(e,"dijitDialogFixed"),this.underlayAttrs={dialogId:this.id,class:r.map(this.class.split(/\s/),function(e){return e+"_underlay"}).join(" "),_onKeyDown:v.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!l.contains(this.ownerDocumentBody,"dojoMove")){var e=this.domNode,r=M.getBox(this.ownerDocument),a=this._relativePosition,t=o.position(e),i=Math.floor(r.l+(a?Math.min(a.x,r.w-t.w):(r.w-t.w)/2)),d=Math.floor(r.t+(a?Math.min(a.y,r.h-t.h):(r.h-t.h)/2));n.set(e,{left:i+"px",top:d+"px"})}},_onKey:function(e){if(e.keyCode==m.TAB){this._getFocusItems();var r=e.target;this._firstFocusItem==this._lastFocusItem?(e.stopPropagation(),e.preventDefault()):r==this._firstFocusItem&&e.shiftKey?(p.focus(this._lastFocusItem),e.stopPropagation(),e.preventDefault()):r!=this._lastFocusItem||e.shiftKey||(p.focus(this._firstFocusItem),e.stopPropagation(),e.preventDefault())}else this.closable&&e.keyCode==m.ESCAPE&&(this.onCancel(),e.stopPropagation(),e.preventDefault())},show:function(){if(this.open)return S.promise;this._started||this.startup(),this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0),this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),_.hide(this));var e=M.get(this.ownerDocument);this._modalconnects.push(u(e,"scroll",v.hitch(this,"resize",null))),this._modalconnects.push(u(this.domNode,"keydown",v.hitch(this,"_onKey"))),n.set(this.domNode,{opacity:0,display:""}),this._set("open",!0),this._onShow(),this.resize(),this._position();var r;this._fadeInDeferred=new i(v.hitch(this,function(){r.stop(),delete this._fadeInDeferred})),this._fadeInDeferred.then(void 0,P);var a=this._fadeInDeferred.promise;return r=s.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:v.hitch(this,function(){_.show(this,this.underlayAttrs)}),onEnd:v.hitch(this,function(){this.autofocus&&_.isTop(this)&&(this._getFocusItems(),p.focus(this._firstFocusItem)),this._fadeInDeferred.resolve(!0),delete this._fadeInDeferred})}).play(),a},hide:function(){if(!this._alreadyInitialized||!this.open)return S.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var e;this._fadeOutDeferred=new i(v.hitch(this,function(){e.stop(),delete this._fadeOutDeferred})),this._fadeOutDeferred.then(void 0,P),this._fadeOutDeferred.then(v.hitch(this,"onHide"));var r=this._fadeOutDeferred.promise;e=s.fadeOut({node:this.domNode,duration:this.duration,onEnd:v.hitch(this,function(){this.domNode.style.display="none",_.hide(this),this._fadeOutDeferred.resolve(!0),delete this._fadeOutDeferred})}).play(),this._scrollConnected&&(this._scrollConnected=!1);for(var a;a=this._modalconnects.pop();)a.remove();return this._relativePosition&&delete this._relativePosition,this._set("open",!1),r},resize:function(e){if("none"!=this.domNode.style.display){if(this._checkIfSingleChild(),!e){this._shrunk&&(this._singleChild&&void 0!==this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),r.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(e){e&&n.set(e,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var a=M.getBox(this.ownerDocument);a.w*=this.maxRatio,a.h*=this.maxRatio;var t=o.position(this.domNode);this._shrunk=!1,t.w>=a.w&&(e={w:a.w},o.setMarginBox(this.domNode,e),t=o.position(this.domNode),this._shrunk=!0),t.h>=a.h&&(e||(e={w:t.w}),e.h=a.h,this._shrunk=!0),e&&(e.w||(e.w=t.w),e.h||(e.h=t.h))}if(e){o.setMarginBox(this.domNode,e);var i=[];this.titleBar&&i.push({domNode:this.titleBar,region:"top"}),this.actionBarNode&&i.push({domNode:this.actionBarNode,region:"bottom"});var d={domNode:this.containerNode,region:"center"};i.push(d);var l=E.marginBox2contentBox(this.domNode,e);if(E.layoutChildren(this.domNode,l,i),this._singleChild){var s=E.marginBox2contentBox(this.containerNode,d);this._singleChild.resize({w:s.w,h:s.h})}else this.containerNode.style.overflow="auto",this._layoutChildren()}else this._layoutChildren();y("touch")||e||this._position()}},_layoutChildren:function(){r.forEach(this.getChildren(),function(e){e.resize&&e.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel(),this._fadeOutDeferred&&this._fadeOutDeferred.cancel(),this._moveable&&this._moveable.destroy();for(var e;e=this._modalconnects.pop();)e.remove();_.hide(this),this.inherited(arguments)}});y("dojo-bidi")&&(T=t("dijit._DialogBase",T,{_setTitleAttr:function(e){this._set("title",e),this.titleNode.innerHTML=e,this.applyTextDir(this.titleNode)},_setTextDirAttr:function(e){this._created&&this.textDir!=e&&(this._set("textDir",e),this.set("title",this.title))}}));var Q=t("dijit.Dialog",[q,T],{});Q._DialogBase=T;var _=Q._DialogLevelManager={_beginZIndex:950,show:function(e,r){H[H.length-1].focus=p.curNode;var a=H[H.length-1].dialog?H[H.length-1].zIndex+2:Q._DialogLevelManager._beginZIndex;n.set(e.domNode,"zIndex",a),j.show(r,a-1),H.push({dialog:e,underlayAttrs:r,zIndex:a})},hide:function(e){if(H[H.length-1].dialog==e){H.pop();var a=H[H.length-1];if(1==H.length?j.hide():j.show(a.underlayAttrs,a.zIndex-1),e.refocus){var t=a.focus;if(!a.dialog||t&&d.isDescendant(t,a.dialog.domNode)||(a.dialog._getFocusItems(),t=a.dialog._firstFocusItem),t)try{t.focus()}catch(e){}}}else{var i=r.indexOf(r.map(H,function(e){return e.dialog}),e);-1!=i&&H.splice(i,1)}},isTop:function(e){return H[H.length-1].dialog==e}},H=Q._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];return p.watch("curNode",function(e,r,a){var t=H[H.length-1].dialog;if(a&&t&&!t._fadeOutDeferred&&a.ownerDocument==t.ownerDocument){do{if(a==t.domNode||l.contains(a,"dijitPopup"))return}while(a=a.parentNode);t.focus()}}),y("dijit-legacy-requires")&&h(0,function(){e(["dijit/TooltipDialog"])}),Q});//# sourceMappingURL=Dialog.js.map