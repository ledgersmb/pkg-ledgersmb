//>>built
define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(e,r,t,a,i,d){var l=d.typematic={_fireEventAndReload:function(){this._timer=null,this._callback(++this._count,this._node,this._evt),this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay),this._timer=setTimeout(t.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(e,r,a,i,d,l,o,n){if(d!=this._obj){this.stop(),this._initialDelay=o||500,this._subsequentDelay=l||.9,this._minDelay=n||10,this._obj=d,this._node=a,this._currentTimeout=-1,this._count=-1,this._callback=t.hitch(r,i),this._evt={faux:!0};for(var s in e)if("layerX"!=s&&"layerY"!=s){var f=e[s];"function"!=typeof f&&void 0!==f&&(this._evt[s]=f)}this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(i,d,o,n,s,f,m){var u="keyCode"in d?"keydown":"charCode"in d?"keypress":r._keypress,v="keyCode"in d?"keyCode":"charCode"in d?"charCode":"charOrCode",h=[a(i,u,t.hitch(this,function(e){e[v]!=d[v]||void 0!==d.ctrlKey&&d.ctrlKey!=e.ctrlKey||void 0!==d.altKey&&d.altKey!=e.altKey||void 0!==d.metaKey&&d.metaKey!=(e.metaKey||!1)||void 0!==d.shiftKey&&d.shiftKey!=e.shiftKey?l._obj==d&&l.stop():(e.stopPropagation(),e.preventDefault(),l.trigger(e,o,i,n,d,s,f,m))})),a(i,"keyup",t.hitch(this,function(){l._obj==d&&l.stop()}))];return{remove:function(){e.forEach(h,function(e){e.remove()})}}},addMouseListener:function(r,d,o,n,s,f){var m=[a(r,"mousedown",t.hitch(this,function(e){e.preventDefault(),l.trigger(e,d,r,o,r,n,s,f)})),a(r,"mouseup",t.hitch(this,function(e){this._obj&&e.preventDefault(),l.stop()})),a(r,"mouseout",t.hitch(this,function(e){this._obj&&e.preventDefault(),l.stop()})),a(r,"dblclick",t.hitch(this,function(e){e.preventDefault(),i("ie")<9&&(l.trigger(e,d,r,o,r,n,s,f),setTimeout(t.hitch(this,l.stop),50))}))];return{remove:function(){e.forEach(m,function(e){e.remove()})}}},addListener:function(r,t,a,i,d,l,o,n){var s=[this.addKeyListener(t,a,i,d,l,o,n),this.addMouseListener(r,i,d,l,o,n)];return{remove:function(){e.forEach(s,function(e){e.remove()})}}}};return l});//# sourceMappingURL=typematic.js.map