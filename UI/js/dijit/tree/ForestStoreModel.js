//>>built
define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(e,t,r,a,i){return t("dijit.tree.ForestStoreModel",i,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(e){this.root={store:this,root:!0,id:e.rootId,label:e.rootLabel,children:e.rootChildren}},mayHaveChildren:function(e){return e===this.root||this.inherited(arguments)},getChildren:function(e,t,r){e===this.root?this.root.children?t(this.root.children):this.store.fetch({query:this.query,onComplete:a.hitch(this,function(e){this.root.children=e,t(e)}),onError:r}):this.inherited(arguments)},isItem:function(e){return e===this.root||this.inherited(arguments)},fetchItemByIdentity:function(e){if(e.identity==this.root.id){var t=e.scope||r.global;e.onItem&&e.onItem.call(t,this.root)}else this.inherited(arguments)},getIdentity:function(e){return e===this.root?this.root.id:this.inherited(arguments)},getLabel:function(e){return e===this.root?this.root.label:this.inherited(arguments)},newItem:function(e,t,r){return t===this.root?(this.onNewRootItem(e),this.store.newItem(e)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(e,t,r,a,i){t===this.root&&(a||this.onLeaveRoot(e)),this.inherited(arguments,[e,t===this.root?null:t,r===this.root?null:r,a,i]),r===this.root&&this.onAddToRoot(e)},onAddToRoot:function(e){},onLeaveRoot:function(e){},_requeryTop:function(){var t=this.root.children||[];this.store.fetch({query:this.query,onComplete:a.hitch(this,function(r){this.root.children=r,(t.length!=r.length||e.some(t,function(e,t){return r[t]!=e}))&&this.onChildrenChange(this.root,r)})})},onNewItem:function(e,t){this._requeryTop(),this.inherited(arguments)},onDeleteItem:function(t){-1!=e.indexOf(this.root.children,t)&&this._requeryTop(),this.inherited(arguments)},onSetItem:function(e,t,r,a){this._requeryTop(),this.inherited(arguments)}})});//# sourceMappingURL=ForestStoreModel.js.map