//>>built
define("dijit/_TimePicker",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/query","dojo/mouse","dojo/on","./_WidgetBase","./form/_ListMouseMixin"],function(e,r,t,a,i,d,l,o,n,s,f,m,v,u,h,y){return i("dijit._TimePicker",[h,y],{baseClass:"dijitTimePicker",pickerMin:"T00:00:00",pickerMax:"T23:59:59",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:a.toISOString,buildRendering:function(){this.inherited(arguments),this.containerNode=this.domNode,this.timeMenu=this.domNode},setValue:function(e){o.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0"),this.set("value",e)},_setValueAttr:function(e){this._set("value",e),this._showText()},_setFilterStringAttr:function(e){this._set("filterString",e),this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(e,r,t,a){for(var i=this.ownerDocument.createDocumentFragment(),d=0;d<this._maxIncrement;d++){var l=this._createOption(d);l&&i.appendChild(l)}return i},_showText:function(){var e=a.fromISOString;this.domNode.innerHTML="",this._clickableIncrementDate=e(this.clickableIncrement),this._visibleIncrementDate=e(this.visibleIncrement);var r=function(e){return 60*e.getHours()*60+60*e.getMinutes()+e.getSeconds()},t=r(this._clickableIncrementDate),i=r(this._visibleIncrementDate);(this.value||this.currentFocus).getTime();this._refDate=e(this.pickerMin),this._refDate.setFullYear(1970,0,1),this._clickableIncrement=1,this._visibleIncrement=i/t;var d=e(this.pickerMax);d.setFullYear(1970,0,1);var l=.001*(d.getTime()-this._refDate.getTime());this._maxIncrement=Math.ceil((l+1)/t);var o=this._getFilteredNodes();!o.firstChild&&this.filterString?(this.filterString="",this._showText()):this.domNode.appendChild(o)},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments),this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(e){for(var r in{clickableIncrement:1,visibleIncrement:1,pickerMin:1,pickerMax:1})r in e&&(this[r]=e[r]);e.locale||(e.locale=this.lang)},_createOption:function(e){var a=new Date(this._refDate),i=this._clickableIncrementDate;a.setHours(a.getHours()+i.getHours()*e,a.getMinutes()+i.getMinutes()*e,a.getSeconds()+i.getSeconds()*e),"time"==this.constraints.selector&&a.setFullYear(1970,0,1);var d=t.format(a,this.constraints);if(this.filterString&&0!==d.toLowerCase().indexOf(this.filterString))return null;var o=this.ownerDocument.createElement("div");o.className=this.baseClass+"Item",o.date=a,o.idx=e,l.create("div",{class:this.baseClass+"ItemInner",innerHTML:d},o);var n=e%this._visibleIncrement<1&&e%this._visibleIncrement>-1,s=!(n||e%this._clickableIncrement);return n?o.className+=" "+this.baseClass+"Marker":s&&(o.className+=" "+this.baseClass+"Tick"),this.isDisabledDate(a)&&(o.className+=" "+this.baseClass+"ItemDisabled"),this.value&&!r.compare(this.value,a,this.constraints.selector)&&(o.selected=!0,o.className+=" "+this.baseClass+"ItemSelected",this._selectedDiv=o,n?o.className+=" "+this.baseClass+"MarkerSelected":s&&(o.className+=" "+this.baseClass+"TickSelected"),this._highlightOption(o,!0)),o},onOpen:function(){this.inherited(arguments),this.set("selected",this._selectedDiv)},_onOptionSelected:function(e,r){var t=e.target.date||e.target.parentNode.date;t&&!this.isDisabledDate(t)&&(this._set("value",t),this.emit("input"),r&&(this._highlighted_option=null,this.set("value",t),this.onChange(t)))},onChange:function(){},_highlightOption:function(e,r){if(e){if(r)this._highlighted_option&&this._highlightOption(this._highlighted_option,!1),this._highlighted_option=e;else{if(this._highlighted_option!==e)return;this._highlighted_option=null}d.toggle(e,this.baseClass+"ItemHover",r),d.contains(e,this.baseClass+"Marker")?d.toggle(e,this.baseClass+"MarkerHover",r):d.toggle(e,this.baseClass+"TickHover",r)}},handleKey:function(e){return e.keyCode==n.DOWN_ARROW?(this.selectNextNode(),this._onOptionSelected({target:this._highlighted_option},!1),e.stopPropagation(),e.preventDefault(),!1):e.keyCode==n.UP_ARROW?(this.selectPreviousNode(),this._onOptionSelected({target:this._highlighted_option},!1),e.stopPropagation(),e.preventDefault(),!1):e.keyCode==n.ENTER||e.keyCode===n.TAB?!this._keyboardSelected&&e.keyCode===n.TAB||(this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option},!0),e.keyCode===n.TAB):void 0},onHover:function(e){this._highlightOption(e,!0)},onUnhover:function(e){this._highlightOption(e,!1)},onSelect:function(e){this._highlightOption(e,!0)},onDeselect:function(e){this._highlightOption(e,!1)},onClick:function(e){this._onOptionSelected({target:e},!0)}})});//# sourceMappingURL=_TimePicker.js.map