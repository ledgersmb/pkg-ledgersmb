debian/TODO for ledgersmb

See also:  https://github.com/ledgersmb/pkg-ledgersmb/issues as well as
https://bugs.debian.org/cgi-bin/pkgreport.cgi?src=ledgersmb and
https://qa.debian.org/debcheck.php?dist=unstable&package=ledgersmb
https://github.com/ledgersmb/pkg-ledgersmb/issues/1
===================================================================================================
===================================================================================================
- The ledgersmb.org site has v1.5 screen shots at https://ledgersmb.org/content/screenshots-15;
 update debian for them, at least after I get the ledgersmb pkg updated and uploaded
 at http://screenshots.debian.net/package/ledgersmb.  (And get the old 1.3 
 screenshots removed.)

----------------------------------------------------------------------------------------------------
	- Looks like an Lighttpd configuration example is going to be added.  If/when
	it's also added the 1.5, add another binary stanza for it to go along with
	the ones for nginx and apache.
Add Lighttpd configuration example #2993
https://github.com/ledgersmb/LedgerSMB/pull/2993
https://github.com/ledgersmb/LedgerSMB/issues/3007
https://github.com/ledgersmb/LedgerSMB/issues/3008
-------------------------------------------------------------------------------
	- Discussed in IRC some of the permission fix issues.  Erik took care of
	fixing many of them in both master & 1.5 so when the next release comes out
	will need to run a build of both ledgresmb & ledgersmb-1.5 without the 
	fixes enabled in order to check how the fix permissions stanza in d/rules
	can be updated for that.

  - Referance also https://github.com/ledgersmb/LedgerSMB/issues/2899 which 
  for the creation of a test in upstream that checks for such permission issues.

- As of the packageing for 1.5.8, this is what is in the override_dh_fixperms
  stanza
<-->dh_fixperms
<-->chmod +x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/sql/modules/reload_modules.sh
<-->chmod +x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/tools/dbsetup.pl
<-->chmod +x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/tools/drop-roles.pl
<-->chmod +x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/tools/install_interactive.pl
<-->chmod +x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/tools/pre-release-tests.sh
<-->chmod +x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/tools/starman.psgi
<-->chmod +x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/utils/notify_short/config.pl
<-->chmod +x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/utils/notify_short/listener.pl
<-->chmod +x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/utils/process_queue/config.pl.default
<-->chmod +x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/utils/process_queue/process_queue.pl
<-->chmod +x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/utils/replication/configure-replication.sh
<-->chmod -x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/locale/html/splash.html
<-->chmod -x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/lib/LedgerSMB/Template/TXT.pm
<-->chmod -x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/lib/LedgerSMB/Template/HTML.pm
<-->chmod -x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/lib/LedgerSMB/Template/CSV.pm
<-->chmod -x debian/ledgersmb-1.5/usr/share/ledgersmb-1.5/lib/LedgerSMB/Template/LaTeX.pm

-------------------------------------------------------------------------------
https://github.com/ledgersmb/LedgerSMB/issues/2900
Although Debian (and others) do now use systemd by default, it does still support sysvinit
init.d scripts as well, so providing at least an example init.d sysvinit startup script
 for starman-ledgersmb would be quite useful.

- In the mean time, added an initial version of a possible one:
(In order to test how that works, would have to use something that has been
changed to use sysv instead of systemd.)


-------------------------------------------------------------------------------
    - debian/adm/config-lsmb-db-user.sh
- Use 'pg_roles' and 'rolname' rather than 'pg_users' and 'usename', as I 
found that one can actually create two roles with the same name, one with the
login attribute and one without.
- Use only the postgresql tools, like createuser, to set the user name and 
password for the LSMB DB Admin user.  David G pointed out that using SQL
can allow the unencrypted password to prehaps show up in logs, etc, which
is a security concern.
- Take out defaulting for doing the SQL 'ALTER' instead of a 'CREATE'
if the LSMB DBAdmin user already exits.  It was pointed out by both David
and Erik that they really don't think it's a good idea to reset that password
by default when, for instance, upgradeing the package;  which is what it did
if doing the configure was enabled.  Add option to reset the password if the
user ID already exists, but not by default; would have to explicitly agree
to it, each time, and that agreement isn't saved so the question gets asked
each time and by default is not to do the reset.

-----------------------------------------------------------------------------------

I: ledgersmb: systemd-service-file-missing-documentation-key lib/systemd/system/starman-ledgersmb.service

------------------------------------------------------------------------------
	- These are needed, or at least would be useful to have, in Debian
	
Weasel is needed for at least developer testing.  (Started that...)
Pherkin::Extension::Weasel  is needed for at least developer testing.

	- Need to check the rest of the 'develop' type requirements to see which
	are already in the Debian and perhaps pkg the (other) ones that are not.

- while checking for the Build-Depends-Indep;  found that I don't even have it
in the pkg for ledgersmb-1.5 or ledgesrmb-1.4. Although that may simply be that
it's not needed. 
  

-----------------------------------------------------------------------------------
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=868724
`- Project has totally moved from SourceForge.net, so debian/watch needs to be
`updated for the new locations of the distribution archive and its detached
gpg file for verifiction.

- An update for gettting the new archive itself appears to have been successful
but the *.asc associated with it useed for the gpg verification does not seem
to get refereneced properly has that step fails.

- debian/watch: expand the uversionmangle regular expression to exclude the v1.2,
1.3, and 1.5 versions.

-----------------------------------------------------------------------------------
	- updating debconf po
https://www.debian.org/doc/manuals/developers-reference/ch06.html#s6.5.2.2
-----------------------------------------------------------------------------------
- A debian/po debconf Japanese translation has been provided. Currently,
there is no LSMB locale/po/ja.po file. Checked System|Lanaguage|List
Languages in LSMB 1.3.40: "ja" is not in the default list. It's also not
listed as an available language when editing templates, and presumably
those lists come from the same source. It can be added manually using
System|Language|Add Language. Debian bug # 831688.
-----------------------------------------------------------------------------------

- Upstream uses pdflatex to create the distribution LedgerSMB-manual.pdf from
the source file doc/manual/LedgerSMB-manual.tex. Use the same source file to
create an HTML version?
-----------------------------------------------------------------------------------
- Create an HTML and/or PDF file of doc/templateing/templating-guide.tex? And
then register it with doc-base?

- Instead of a sym link to point to the /etc/ledgersmb config file(s), 
patch config file to add '/etc/' to the config file setting? (Would
the apache config also need to be updated to allow that?)
-----------------------------------------------------------------------------------


 -- Robert James Clay <jame@rocasa.us>  Mon, 18 Jul 2017 16:53 -0400
